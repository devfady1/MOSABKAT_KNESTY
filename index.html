<!doctype html>
<html lang="ar">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø© - Ø§Ù„Ø¹Ø¨Ø§Ù‚Ø±Ø©</title>
  <style>
    :root{
      --bg:#0f1724;
      --card:#1a1f2e;
      --accent:#3b82f6;
      --accent-hover:#2563eb;
      --muted:#94a3b8;
      --success:#10b981;
      --error:#ef4444;
      --warning:#f59e0b;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:'Segoe UI',Tahoma,Arial,'Noto Naskh Arabic',sans-serif;
      background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
      color:#fff;
      min-height:100vh;
      padding:20px;
    }
    .container{
      max-width:1200px;
      margin:0 auto;
    }
    header{
      text-align:center;
      margin-bottom:30px;
      animation:fadeInDown 0.8s ease;
    }
    header h1{
      font-size:2.5rem;
      margin-bottom:10px;
      text-shadow:2px 2px 4px rgba(0,0,0,0.3);
    }
    header p{
      font-size:1.1rem;
      opacity:0.9;
    }
    .card{
      background:rgba(255,255,255,0.1);
      backdrop-filter:blur(10px);
      padding:25px;
      border-radius:20px;
      box-shadow:0 8px 32px rgba(0,0,0,0.1);
      border:1px solid rgba(255,255,255,0.2);
      animation:fadeIn 0.8s ease;
    }
    label{
      display:block;
      margin-bottom:8px;
      font-weight:500;
      font-size:1.1rem;
    }
    input[type=text]{
      width:100%;
      padding:12px 15px;
      border-radius:10px;
      border:2px solid rgba(255,255,255,0.3);
      background:rgba(255,255,255,0.1);
      color:#fff;
      font-size:1rem;
      transition:all 0.3s ease;
    }
    input[type=text]:focus{
      outline:none;
      border-color:var(--accent);
      background:rgba(255,255,255,0.15);
    }
    input[type=text]::placeholder{
      color:rgba(255,255,255,0.6);
    }
    .row{
      display:flex;
      gap:15px;
      margin-top:15px;
      flex-wrap:wrap;
    }
    button{
      background:var(--accent);
      border:none;
      padding:12px 24px;
      border-radius:10px;
      color:#fff;
      font-size:1rem;
      font-weight:600;
      cursor:pointer;
      transition:all 0.3s ease;
      box-shadow:0 4px 15px rgba(59,130,246,0.4);
    }
    button:hover{
      background:var(--accent-hover);
      transform:translateY(-2px);
      box-shadow:0 6px 20px rgba(59,130,246,0.5);
    }
    button:disabled{
      opacity:0.5;
      cursor:not-allowed;
    }
    button.secondary{
      background:rgba(255,255,255,0.2);
      box-shadow:none;
    }
    button.secondary:hover{
      background:rgba(255,255,255,0.3);
    }
    button.danger{
      background:var(--error);
      box-shadow:0 4px 15px rgba(239,68,68,0.4);
    }
    button.danger:hover{
      background:#dc2626;
      box-shadow:0 6px 20px rgba(239,68,68,0.5);
    }
    .teams-list{
      margin-top:20px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }
    .team-pill{
      background:rgba(255,255,255,0.2);
      padding:10px 20px;
      border-radius:25px;
      font-weight:500;
      display:flex;
      align-items:center;
      gap:10px;
      animation:slideIn 0.3s ease;
    }
    .team-pill .remove{
      cursor:pointer;
      color:var(--error);
      font-weight:bold;
    }
    .main-grid{
      display:grid;
      grid-template-columns:1fr 350px;
      gap:20px;
      margin-top:20px;
    }
    .question-box{
      min-height:400px;
    }
    .category-selector{
      display:flex;
      gap:10px;
      margin-bottom:20px;
      flex-wrap:wrap;
    }
    .category-btn{
      flex:1;
      min-width:120px;
      padding:15px;
      background:rgba(255,255,255,0.1);
      border:2px solid rgba(255,255,255,0.3);
      border-radius:10px;
      color:#fff;
      font-size:1rem;
      cursor:pointer;
      transition:all 0.3s ease;
      text-align:center;
    }
    .category-btn:hover{
      background:rgba(255,255,255,0.2);
      transform:scale(1.05);
    }
    .category-btn.selected{
      background:var(--accent);
      border-color:var(--accent);
      box-shadow:0 4px 15px rgba(59,130,246,0.4);
    }
    .question-display{
      background:rgba(255,255,255,0.05);
      padding:20px;
      border-radius:15px;
      margin-bottom:20px;
      min-height:100px;
    }
    .question-text{
      font-size:1.3rem;
      line-height:1.6;
      margin-bottom:20px;
    }
    .options{
      display:grid;
      gap:12px;
    }
    .option{
      background:rgba(255,255,255,0.1);
      padding:15px 20px;
      border-radius:10px;
      border:2px solid transparent;
      cursor:pointer;
      transition:all 0.3s ease;
      font-size:1.1rem;
    }
    .option:hover{
      background:rgba(255,255,255,0.15);
      transform:translateX(-5px);
    }
    .option.selected{
      background:var(--accent);
      border-color:var(--accent);
      box-shadow:0 4px 15px rgba(59,130,246,0.4);
    }
    .option.correct{
      background:var(--success);
      border-color:var(--success);
      animation:pulse 0.5s ease;
    }
    .option.wrong{
      background:var(--error);
      border-color:var(--error);
      animation:shake 0.5s ease;
    }
    .scoreboard{
      position:sticky;
      top:20px;
    }
    .score-item{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:15px;
      border-radius:10px;
      background:rgba(255,255,255,0.1);
      margin-bottom:10px;
      transition:all 0.3s ease;
    }
    .score-item.current{
      background:black;
      box-shadow:0 4px 15px rgba(59,130,246,0.4);
    }
    .score-value{
      font-size:1.5rem;
      font-weight:bold;
    }
    .feedback{
      padding:15px;
      border-radius:10px;
      margin-top:15px;
      font-weight:500;
      text-align:center;
      animation:slideIn 0.3s ease;
    }
    .feedback.success{
      background:var(--success);
    }
    .feedback.error{
      background:var(--error);
    }
    .final-results{
      text-align:center;
      padding:30px;
    }
    .winner-announcement{
      background:linear-gradient(135deg,#667eea,#764ba2);
      padding:30px;
      border-radius:20px;
      margin:20px 0;
      box-shadow:0 10px 40px rgba(0,0,0,0.2);
      animation:bounceIn 1s ease;
    }
    .winner-announcement h2{
      font-size:2rem;
      margin-bottom:15px;
    }
    .trophy{
      font-size:4rem;
      animation:rotate 2s linear infinite;
    }
    .hidden{
      display:none;
    }
    @keyframes fadeIn{
      from{opacity:0;transform:translateY(20px)}
      to{opacity:1;transform:translateY(0)}
    }
    @keyframes fadeInDown{
      from{opacity:0;transform:translateY(-20px)}
      to{opacity:1;transform:translateY(0)}
    }
    @keyframes slideIn{
      from{opacity:0;transform:translateX(-20px)}
      to{opacity:1;transform:translateX(0)}
    }
    @keyframes pulse{
      0%,100%{transform:scale(1)}
      50%{transform:scale(1.05)}
    }
    @keyframes shake{
      0%,100%{transform:translateX(0)}
      25%{transform:translateX(-5px)}
      75%{transform:translateX(5px)}
    }
    @keyframes bounceIn{
      0%{transform:scale(0.3);opacity:0}
      50%{transform:scale(1.05)}
      70%{transform:scale(0.9)}
      100%{transform:scale(1);opacity:1}
    }
    @keyframes rotate{
      from{transform:rotate(0deg)}
      to{transform:rotate(360deg)}
    }
    @media(max-width:768px){
      .main-grid{grid-template-columns:1fr}
      .scoreboard{position:relative}
      header h1{font-size:1.8rem}
    }
  </style>
</head>
<body dir="rtl">
  <div class="container">
    <header>
      <h1>ğŸ† Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø© - Ø§Ù„Ø¹Ø¨Ø§Ù‚Ø±Ø© ğŸ†</h1>
      <p>ØªÙ†Ø§ÙØ³ Ù…Ø¹ ÙØ±ÙŠÙ‚Ùƒ ÙˆØ§Ø®ØªØ¨Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ ÙÙŠ Ù…Ø®ØªÙ„Ù Ø§Ù„Ù…Ø¬Ø§Ù„Ø§Øª!</p>
    </header>

    <!-- Ø´Ø§Ø´Ø© Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙØ±Ù‚ -->
    <div class="card" id="setup">
      <h2 style="text-align:center;margin-bottom:20px">ğŸ“ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ÙØ±Ù‚</h2>
      <label>Ø£Ø¯Ø®Ù„ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„ÙØ±Ù‚ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©:</label>
      <div class="row">
        <input id="teamName" type="text" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ Ø«Ù… Ø§Ø¶ØºØ· Ø¥Ø¶Ø§ÙØ©" onkeypress="if(event.key==='Enter')addTeam()" />
        <button id="addTeamBtn" onclick="addTeam()">â• Ø¥Ø¶Ø§ÙØ© ÙØ±ÙŠÙ‚</button>
      </div>
      <div class="teams-list" id="teamsList"></div>
      <div style="text-align:center;margin-top:30px">
        <button id="startBtn" class="secondary" onclick="startGame()" style="display:none;font-size:1.2rem;padding:15px 40px">
          ğŸš€ Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø©
        </button>
      </div>
      <div style="margin-top:20px;text-align:center;opacity:0.8">
        ğŸ’¡ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© ÙØ±ÙŠÙ‚ÙŠÙ† Ø£Ùˆ Ø£ÙƒØ«Ø± â€¢ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ù„Ù† ØªØªÙƒØ±Ø± â€¢ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ 20 Ø³Ø¤Ø§Ù„
      </div>
      <div style="margin-top:15px;text-align:center">
        <button class="danger" onclick="clearAllData()" style="font-size:0.9rem;padding:8px 15px">ğŸ—‘ï¸ Ù…Ø³Ø­ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©</button>
      </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù„Ø¹Ø¨ -->
    <div id="game" class="hidden">
      <div class="main-grid">
        <div>
          <!-- Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø³Ø¤Ø§Ù„ -->
          <div class="question-box card">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px">
              <div>
                <h3 id="turnLabel" style="color:white">Ø¯ÙˆØ± Ø§Ù„ÙØ±ÙŠÙ‚: -</h3>
                <div style="margin-top:5px;opacity:0.8" id="remaining">Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©: 20</div>
              </div>
              <div id="questionNumber" style="font-size:1.5rem;font-weight:bold;opacity:0.5">
                Ø§Ù„Ø³Ø¤Ø§Ù„ #<span id="qNum">0</span>
              </div>
            </div>

            <!-- Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù‚Ø³Ù… -->
            <div class="category-selector" id="categorySelector">
              <div class="category-btn" data-category="dini" onclick="selectCategory('dini')">
                âœï¸ Ø¯ÙŠÙ†ÙŠ
              </div>
              <div class="category-btn" data-category="geo" onclick="selectCategory('geo')">
                ğŸŒ Ø¬ØºØ±Ø§ÙÙŠØ§
              </div>
              <div class="category-btn" data-category="sport" onclick="selectCategory('sport')">
                âš½ Ø±ÙŠØ§Ø¶Ø©
              </div>
              <div class="category-btn" data-category="science" onclick="selectCategory('science')">
                ğŸ”¬ Ø¹Ù„ÙˆÙ… ÙˆØ«Ù‚Ø§ÙØ©
              </div>
            </div>

            <!-- Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¤Ø§Ù„ -->
            <div class="question-display hidden" id="questionDisplay">
              <div class="question-text" id="qText"></div>
              <div class="options" id="options"></div>
              <div class="row" style="margin-top:20px;justify-content:center">
                <button id="submitBtn" onclick="submitAnswer()" style="min-width:200px">âœ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©</button>
                <button id="nextBtn" class="secondary hidden" onclick="nextTurn()">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â¡ï¸</button>
              </div>
            </div>

            <!-- Ø±Ø³Ø§Ù„Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù‚Ø³Ù… -->
            <div id="selectCategoryMsg" style="text-align:center;padding:40px;opacity:0.7">
              ğŸ‘† Ø§Ø®ØªØ± Ù‚Ø³Ù… Ø§Ù„Ø³Ø¤Ø§Ù„ Ù…Ù† Ø§Ù„Ø£Ø¹Ù„Ù‰
            </div>
          </div>

          <!-- Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª -->
          <div class="card" style="margin-top:20px">
            <div id="feedback"></div>
          </div>
        </div>

        <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ -->
        <aside class="scoreboard">
          <div class="card">
            <h3 style="text-align:center;margin-bottom:20px">ğŸ“Š Ù„ÙˆØ­Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
            <div id="scores"></div>
            <hr style="margin:20px 0;opacity:0.2" />
            <div style="text-align:center">
              <button onclick="saveManually()" style="width:100%;background:var(--success)">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
              <button class="danger" onclick="endGame()" style="width:100%;margin-top:10px">ğŸ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø©</button>
              <button class="secondary" onclick="resetGame()" style="width:100%;margin-top:10px">ğŸ”„ Ø¨Ø¯Ø§ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©</button>
            </div>
            <div id="saveStatus" style="margin-top:10px;text-align:center;font-size:0.9rem;opacity:0.8"></div>
          </div>
        </aside>
      </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© -->
    <div id="final" class="hidden">
      <div class="card final-results">
        <h2 style="margin-bottom:30px">ğŸŠ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© ğŸŠ</h2>
        <div id="finalScores"></div>
        <div class="winner-announcement" id="winnerAnnouncement">
          <div class="trophy">ğŸ†</div>
          <h2 id="winnerText"></h2>
        </div>
        <button onclick="resetGame()" style="margin-top:30px;padding:15px 40px;font-size:1.2rem">
          ğŸ”„ Ù…Ø³Ø§Ø¨Ù‚Ø© Ø¬Ø¯ÙŠØ¯Ø©
        </button>
      </div>
    </div>
  </div>

  <script>
    // Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
    const QUESTIONS = {
      dini: [
        {q:'Ù…Ù† Ù‡Ùˆ Ø§Ù„ÙƒØ§Ù‡Ù† Ø§Ù„Ø°ÙŠ Ø¨Ø§Ø±Ùƒ Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ… Ø¨Ø¹Ø¯Ù…Ø§ Ø±Ø¬Ø¹ Ù…Ù† Ø§Ù„Ø­Ø±Ø¨ØŸ', opts:['ØµÙ…ÙˆØ¦ÙŠÙ„','Ù‡Ø§Ø±ÙˆÙ†','Ø¹Ø²Ø±ÙŠØ§','Ù…Ù„Ø´ÙŠØµØ§Ø¯Ù‚'], a:3},
        {q:'ÙÙŠ Ø£ÙŠ Ø³ÙØ± ÙˆØ±Ø¯Øª Ø¹Ø¨Ø§Ø±Ø© "Ø¨Ø§Ø·Ù„ Ø§Ù„Ø£Ø¨Ø§Ø·ÙŠÙ„ Ø§Ù„ÙƒÙ„ Ø¨Ø§Ø·Ù„"ØŸ', opts:['Ø§Ù„Ø£Ù…Ø«Ø§Ù„','Ø£ÙŠÙˆØ¨','Ø§Ù„Ù…Ø²Ø§Ù…ÙŠØ±','Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©'], a:3},
        {q:'Ù…Ù† Ù‡Ùˆ ÙƒØ§ØªØ¨ Ø¥Ù†Ø¬ÙŠÙ„ ÙˆØ³ÙØ± Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø±Ø³Ù„ØŸ', opts:['Ø¨ÙˆÙ„Ø³','Ù„ÙˆÙ‚Ø§','Ø¨Ø·Ø±Ø³','ÙŠÙˆØ­Ù†Ø§'], a:1},
        {q:'ÙÙŠ Ø£ÙŠ Ù…Ø¯ÙŠÙ†Ø© Ø¯ÙØ¹ÙŠ Ø§Ù„ØªÙ„Ø§Ù…ÙŠØ° Ø£ÙˆÙ„Ø§Ù‹ Ù…Ø³ÙŠØ­ÙŠÙŠÙ†ØŸ', opts:['Ø£ÙˆØ±Ø´Ù„ÙŠÙ…','Ø£Ù†Ø·Ø§ÙƒÙŠØ©','Ø£ÙØ³Ø³','ÙƒÙˆØ±Ù†Ø«ÙˆØ³'], a:1},
        {q:'Ø£ÙŠ Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ÙƒØªØ¨Ù‡Ø§ Ø§Ù„Ø±Ø³ÙˆÙ„ Ø¨ÙˆÙ„Ø³ Ù…Ù† Ø§Ù„Ø³Ø¬Ù†ØŸ', opts:['ØºÙ„Ø§Ø·ÙŠØ©','Ø£ÙØ³Ø³','ØªØ³Ø§Ù„ÙˆÙ†ÙŠÙƒÙŠ Ø§Ù„Ø£ÙˆÙ„Ù‰','Ø±ÙˆÙ…ÙŠØ©'], a:1}
      ],
      geo: [
        {q:'Ù…Ø§ Ù‡ÙŠ Ø£Ø·ÙˆÙ„ Ø£Ù†Ù‡Ø§Ø± Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ', opts:['Ø§Ù„Ù†ÙŠÙ„','Ø§Ù„Ø£Ù…Ø§Ø²ÙˆÙ†','Ø§Ù„ÙŠØ§Ù†ØºØªØ³ÙŠ','Ø§Ù„Ù…ÙŠØ³ÙŠØ³ÙŠØ¨ÙŠ'], a:0},
        {q:'Ù…Ø§ Ù‡ÙŠ Ø£ÙƒØ¨Ø± ØµØ­Ø±Ø§Ø¡ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ', opts:['ØµØ­Ø±Ø§Ø¡ Ø¬ÙˆØ¨ÙŠ','Ø§Ù„ØµØ­Ø±Ø§Ø¡ Ø§Ù„ÙƒØ¨Ø±Ù‰','ØµØ­Ø±Ø§Ø¡ Ø£Ù„Ø§Ø³ÙƒØ§','Ø§Ù„Ø±Ø¨Ø¹ Ø§Ù„Ø®Ø§Ù„ÙŠ'], a:1},
        {q:'Ø£ÙŠ Ù‚Ø§Ø±Ø© ØªØ¶Ù… Ø£ÙƒØ¨Ø± Ø¹Ø¯Ø¯ Ù…Ù† Ø§Ù„Ø¯ÙˆÙ„ØŸ', opts:['Ø¢Ø³ÙŠØ§','Ø£ÙØ±ÙŠÙ‚ÙŠØ§','Ø£ÙˆØ±ÙˆØ¨Ø§','Ø£Ù…Ø±ÙŠÙƒØ§ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ©'], a:1},
        {q:'Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ù…ØºØ±Ø¨ØŸ', opts:['Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡','Ù…Ø±Ø§ÙƒØ´','Ø§Ù„Ø±Ø¨Ø§Ø·','ÙØ§Ø³'], a:2},
        {q:'ÙÙŠ Ø£ÙŠ Ø¯ÙˆÙ„Ø© ØªÙˆØ¬Ø¯ Ø¬Ø¨Ø§Ù„ Ø§Ù„Ø£Ù„Ø¨ØŸ', opts:['Ø¥ÙŠØ·Ø§Ù„ÙŠØ§','ÙØ±Ù†Ø³Ø§','Ø³ÙˆÙŠØ³Ø±Ø§','Ø§Ù„Ù†Ù…Ø³Ø§'], a:2}
      ],
      sport: [
        {q:'Ù…Ù† Ù‡Ùˆ Ø£ØµØºØ± Ù„Ø§Ø¹Ø¨ Ø£Ø­Ø±Ø² Ù‡Ø¯ÙÙ‹Ø§ ÙÙŠ ÙƒØ£Ø³ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ', opts:['Ù…Ø§Ø±Ø§Ø¯ÙˆÙ†Ø§','ÙƒÙ„ÙŠØ§Ù† Ù…Ø¨Ø§Ø¨ÙŠ','Ù…Ø§ÙŠÙƒÙ„ Ø£ÙˆÙŠÙ†','Ø¨ÙŠÙ„ÙŠÙ‡'], a:3},
        {q:'Ø£ÙŠ Ù…Ù†ØªØ®Ø¨ ÙØ§Ø² Ø¨ÙƒØ£Ø³ Ø§Ù„Ø£Ù…Ù… Ø§Ù„Ø£ÙØ±ÙŠÙ‚ÙŠØ© 2019ØŸ', opts:['Ù…ØµØ±','Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±','Ø§Ù„ÙƒØ§Ù…ÙŠØ±ÙˆÙ†','Ù†ÙŠØ¬ÙŠØ±ÙŠØ§'], a:1},
        {q:'ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø±Ø§Øª Ø§Ù„ØªÙŠ ÙØ§Ø²Øª Ø¨Ù‡Ø§ Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„ Ø¨ÙƒØ£Ø³ Ø§Ù„Ø¹Ø§Ù„Ù… Ø­ØªÙ‰ 2022ØŸ', opts:['3','4','5','6'], a:2},
        {q:'Ø£ÙŠ ÙØ±ÙŠÙ‚ ÙØ§Ø² Ø¨Ø£ÙˆÙ„ Ø¨Ø·ÙˆÙ„Ø© Ø¯ÙˆØ±ÙŠ Ø£Ø¨Ø·Ø§Ù„ Ø£ÙˆØ±ÙˆØ¨Ø§ØŸ', opts:['Ø¨Ø§ÙŠØ±Ù† Ù…ÙŠÙˆÙ†Ø®','Ø±ÙŠØ§Ù„ Ù…Ø¯Ø±ÙŠØ¯','Ù…ÙŠÙ„Ø§Ù†','Ø¨Ù†ÙÙŠÙƒØ§'], a:1},
        {q:'Ù…Ù† Ù‡Ùˆ Ù„Ø§Ø¹Ø¨ ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù… Ø§Ù„Ù…Ù„Ù‚Ø¨ Ø¨Ù€ "Ø§Ù„Ø¸Ø§Ù‡Ø±Ø©"ØŸ', opts:['Ø±ÙˆÙ†Ø§Ù„Ø¯ÙŠÙ†ÙŠÙˆ','Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ Ù†Ø§Ø²Ø§Ø±ÙŠÙˆ','Ø±ÙˆÙ…Ø§Ø±ÙŠÙˆ','ÙƒØ§ÙƒØ§'], a:1}
      ],
      science: [
        {q:'Ù…Ø§ Ù‡Ùˆ Ø£Ø³Ø±Ø¹ Ø·Ø§Ø¦Ø± ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ', opts:['Ø§Ù„Ù†Ø³Ø±','Ø§Ù„ØµÙ‚Ø± Ø§Ù„Ø¬ÙˆØ§Ù„','Ø§Ù„Ø¨ÙˆÙ…Ø©','Ø§Ù„Ø·Ø§ÙˆÙˆØ³'], a:1},
        {q:'Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø­ÙŠÙˆØ§Ù† Ø§Ù„Ø°ÙŠ ÙŠÙ†Ø§Ù… ÙˆØ§Ù‚ÙÙ‹Ø§ØŸ', opts:['Ø§Ù„Ø¬Ù…Ù„','Ø§Ù„Ø­ØµØ§Ù†','Ø§Ù„ÙÙŠÙ„','Ø§Ù„Ø²Ø±Ø§ÙØ©'], a:1},
        {q:'Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ Ø§Ù„Ø°ÙŠ ÙŠØ±Ù…Ø² Ù„Ù‡ Ø¨Ø§Ù„Ø±Ù…Ø² AuØŸ', opts:['ÙØ¶Ø©','Ø°Ù‡Ø¨','Ù†Ø­Ø§Ø³','Ø­Ø¯ÙŠØ¯'], a:1},
        {q:'Ø£ÙŠ Ø¯ÙˆÙ„Ø© Ù…Ø¹Ø±ÙˆÙØ© Ø¨ØµÙ†Ø§Ø¹Ø© Ø§Ù„Ø³ÙˆØ´ÙŠØŸ', opts:['Ø§Ù„ØµÙŠÙ†','Ø§Ù„ÙŠØ§Ø¨Ø§Ù†','ÙƒÙˆØ±ÙŠØ§ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ©','ØªØ§ÙŠÙ„Ø§Ù†Ø¯'], a:1},
        {q:'Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø£ÙƒØ«Ø± Ø§Ù†ØªØ´Ø§Ø±Ù‹Ø§ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ', opts:['Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©','Ø§Ù„Ø¥Ø³Ø¨Ø§Ù†ÙŠØ©','Ø§Ù„ØµÙŠÙ†ÙŠØ©','Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©'], a:0}
      ]
    };

    // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
    let teams = [];
    let scores = {};
    let currentTeamIndex = 0;
    let usedQuestions = new Set();
    let currentQuestion = null;
    let selectedCategory = null;
    let questionCount = 0;
    let selectedAnswer = null;

    // Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    window.addEventListener('load', () => {
      loadGameState();
    });

    // Ø­ÙØ¸ Ø­Ø§Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© ÙÙŠ Local Storage
    function saveGameState() {
      const gameState = {
        teams: teams,
        scores: scores,
        currentTeamIndex: currentTeamIndex,
        usedQuestions: Array.from(usedQuestions),
        questionCount: questionCount,
        timestamp: new Date().toISOString()
      };
      localStorage.setItem('quizGameState', JSON.stringify(gameState));
    }

    // Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø­Ø§Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© Ù…Ù† Local Storage
    function loadGameState() {
      const savedState = localStorage.getItem('quizGameState');
      if (savedState) {
        try {
          const state = JSON.parse(savedState);
          
          // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
          const lastSave = new Date(state.timestamp);
          const timeAgo = getTimeAgo(lastSave);
          
          if (confirm(`ğŸ”„ ØªÙˆØ¬Ø¯ Ù„Ø¹Ø¨Ø© Ù…Ø­ÙÙˆØ¸Ø© Ù…Ù† ${timeAgo}\n\nØ§Ù„ÙØ±Ù‚: ${state.teams.join(', ')}\nØ¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø¬Ø§Ø¨Ø©: ${state.usedQuestions.length}\n\nÙ‡Ù„ ØªØ±ÙŠØ¯ Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©ØŸ`)) {
            // Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            teams = state.teams || [];
            scores = state.scores || {};
            currentTeamIndex = state.currentTeamIndex || 0;
            usedQuestions = new Set(state.usedQuestions || []);
            questionCount = state.questionCount || 0;
            
            // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù‡Ù†Ø§Ùƒ ÙØ±Ù‚ØŒ Ø§Ø¹Ø±Ø¶Ù‡Ø§
            if (teams.length > 0) {
              renderTeams();
              if (teams.length >= 2) {
                document.getElementById('startBtn').style.display = 'inline-block';
              }
              
              // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù„Ø¹Ø¨Ø© Ù‚Ø¯ Ø¨Ø¯Ø£Øª
              if (usedQuestions.size > 0) {
                document.getElementById('setup').classList.add('hidden');
                document.getElementById('game').classList.remove('hidden');
                updateTurnDisplay();
                renderScores();
                document.getElementById('qNum').textContent = questionCount;
                document.getElementById('remaining').textContent = `Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©: ${20 - usedQuestions.size}`;
              }
            }
          } else {
            // Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ø®ØªØ§Ø± Ø¹Ø¯Ù… Ø§Ù„Ø§Ø³ØªÙƒÙ…Ø§Ù„
            clearGameState();
          }
        } catch (e) {
          console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', e);
          clearGameState();
        }
      }
    }

    // Ø­Ø³Ø§Ø¨ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ù†Ù‚Ø¶ÙŠ
    function getTimeAgo(date) {
      const seconds = Math.floor((new Date() - date) / 1000);
      
      if (seconds < 60) return 'Ù‚Ø¨Ù„ Ø«ÙˆØ§Ù†Ù';
      const minutes = Math.floor(seconds / 60);
      if (minutes < 60) return `Ù‚Ø¨Ù„ ${minutes} Ø¯Ù‚ÙŠÙ‚Ø©`;
      const hours = Math.floor(minutes / 60);
      if (hours < 24) return `Ù‚Ø¨Ù„ ${hours} Ø³Ø§Ø¹Ø©`;
      const days = Math.floor(hours / 24);
      return `Ù‚Ø¨Ù„ ${days} ÙŠÙˆÙ…`;
    }

    // Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
    function clearGameState() {
      localStorage.removeItem('quizGameState');
      teams = [];
      scores = {};
      currentTeamIndex = 0;
      usedQuestions = new Set();
      questionCount = 0;
      selectedAnswer = null;
    }

    // ÙˆØ¸Ø§Ø¦Ù Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ±Ù‚
    function addTeam() {
      const input = document.getElementById('teamName');
      const name = input.value.trim();
      
      if (!name) {
        alert('âš ï¸ Ù…Ù† ÙØ¶Ù„Ùƒ Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚');
        return;
      }
      
      if (teams.includes(name)) {
        alert('âš ï¸ Ù‡Ø°Ø§ Ø§Ù„ÙØ±ÙŠÙ‚ Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„!');
        return;
      }
      
      teams.push(name);
      scores[name] = 0;
      input.value = '';
      renderTeams();
      
      if (teams.length >= 2) {
        document.getElementById('startBtn').style.display = 'inline-block';
      }
      
      // Ø­ÙØ¸ Ø§Ù„Ø­Ø§Ù„Ø©
      saveGameState();
    }

    function removeTeam(name) {
      teams = teams.filter(t => t !== name);
      delete scores[name];
      renderTeams();
      
      if (teams.length < 2) {
        document.getElementById('startBtn').style.display = 'none';
      }
      
      // Ø­ÙØ¸ Ø§Ù„Ø­Ø§Ù„Ø©
      saveGameState();
    }

    function renderTeams() {
      const container = document.getElementById('teamsList');
      container.innerHTML = '';
      
      teams.forEach(team => {
        const pill = document.createElement('div');
        pill.className = 'team-pill';
        pill.innerHTML = `${team} <span class="remove" onclick="removeTeam('${team}')">âŒ</span>`;
        container.appendChild(pill);
      });
    }

    // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
    function startGame() {
      if (teams.length < 1) {
        alert('âš ï¸ ÙŠØ¬Ø¨ Ø¥Ø¶Ø§ÙØ© ÙØ±ÙŠÙ‚ ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
        return;
      }
      
      document.getElementById('setup').classList.add('hidden');
      document.getElementById('game').classList.remove('hidden');
      
      currentTeamIndex = 0;
      updateTurnDisplay();
      renderScores();
      
      // Ø­ÙØ¸ Ø§Ù„Ø­Ø§Ù„Ø©
      saveGameState();
    }

    // Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù‚Ø³Ù…
    function selectCategory(category) {
      selectedCategory = category;
      
      document.querySelectorAll('.category-btn').forEach(btn => {
        btn.classList.remove('selected');
      });
      document.querySelector(`[data-category="${category}"]`).classList.add('selected');
      
      const question = getRandomQuestion(category);
      
      if (!question) {
        alert('âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø¦Ù„Ø© Ù…ØªØ¨Ù‚ÙŠØ© ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù…! Ø¬Ø±Ø¨ Ù‚Ø³Ù… Ø¢Ø®Ø±.');
        return;
      }
      
      currentQuestion = question;
      displayQuestion(question);
    }

    // Ø³Ø­Ø¨ Ø³Ø¤Ø§Ù„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ
    function getRandomQuestion(category) {
      const categoryQuestions = QUESTIONS[category];
      const availableQuestions = [];
      
      categoryQuestions.forEach((q, index) => {
        const questionId = `${category}-${index}`;
        if (!usedQuestions.has(questionId)) {
          availableQuestions.push({...q, id: questionId, index});
        }
      });
      
      if (availableQuestions.length === 0) return null;
      
      const randomIndex = Math.floor(Math.random() * availableQuestions.length);
      const question = availableQuestions[randomIndex];
      usedQuestions.add(question.id);
      
      // Ø­ÙØ¸ Ø§Ù„Ø­Ø§Ù„Ø© Ø¨Ø¹Ø¯ Ø³Ø­Ø¨ Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯
      saveGameState();
      
      return question;
    }

    // Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¤Ø§Ù„
    function displayQuestion(question) {
      questionCount++;
      document.getElementById('qNum').textContent = questionCount;
      document.getElementById('remaining').textContent = `Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©: ${20 - usedQuestions.size}`;
      
      document.getElementById('selectCategoryMsg').classList.add('hidden');
      document.getElementById('categorySelector').classList.add('hidden');
      document.getElementById('questionDisplay').classList.remove('hidden');
      
      document.getElementById('qText').textContent = question.q;
      
      const optionsContainer = document.getElementById('options');
      optionsContainer.innerHTML = '';
      
      question.opts.forEach((option, index) => {
        const optionDiv = document.createElement('div');
        optionDiv.className = 'option';
        optionDiv.textContent = `${index + 1}. ${option}`;
        optionDiv.onclick = () => selectAnswer(index, optionDiv);
        optionsContainer.appendChild(optionDiv);
      });
      
      selectedAnswer = null;
      document.getElementById('submitBtn').disabled = false;
      document.getElementById('nextBtn').classList.add('hidden');
    }

    // Ø§Ø®ØªÙŠØ§Ø± Ø¥Ø¬Ø§Ø¨Ø©
    function selectAnswer(index, element) {
      document.querySelectorAll('.option').forEach(opt => {
        opt.classList.remove('selected');
      });
      
      element.classList.add('selected');
      selectedAnswer = index;
    }

    // ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
    function submitAnswer() {
      if (selectedAnswer === null) {
        alert('âš ï¸ Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ø®ØªØ± Ø¥Ø¬Ø§Ø¨Ø© Ø£ÙˆÙ„Ø§Ù‹');
        return;
      }
      
      const correct = currentQuestion.a;
      const team = teams[currentTeamIndex];
      const feedbackDiv = document.getElementById('feedback');
      
      document.getElementById('submitBtn').disabled = true;
      
      document.querySelectorAll('.option').forEach((opt, index) => {
        if (index === correct) {
          opt.classList.add('correct');
        } else if (index === selectedAnswer && selectedAnswer !== correct) {
          opt.classList.add('wrong');
        }
      });
      
      if (selectedAnswer === correct) {
        scores[team]++;
        feedbackDiv.innerHTML = `<div class="feedback success">ğŸ‰ Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! Ù†Ù‚Ø·Ø© Ù„ÙØ±ÙŠÙ‚ ${team}</div>`;
      } else {
        feedbackDiv.innerHTML = `<div class="feedback error">âŒ Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©! Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: ${currentQuestion.opts[correct]}</div>`;
      }
      
      renderScores();
      
      // Ø­ÙØ¸ Ø§Ù„Ø­Ø§Ù„Ø© Ø¨Ø¹Ø¯ ÙƒÙ„ Ø¥Ø¬Ø§Ø¨Ø©
      saveGameState();
      document.getElementById('nextBtn').classList.remove('hidden');
      
      if (usedQuestions.size >= 20) {
        setTimeout(endGame, 2000);
      }
    }

    // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø¯ÙˆØ± Ø§Ù„ØªØ§Ù„ÙŠ
    function nextTurn() {
      document.getElementById('feedback').innerHTML = '';
      currentTeamIndex = (currentTeamIndex + 1) % teams.length;
      updateTurnDisplay();
      
      // Ø­ÙØ¸ Ø§Ù„Ø­Ø§Ù„Ø©
      saveGameState();
      
      document.getElementById('categorySelector').classList.remove('hidden');
      document.getElementById('questionDisplay').classList.add('hidden');
      document.getElementById('selectCategoryMsg').classList.remove('hidden');
      
      document.querySelectorAll('.category-btn').forEach(btn => {
        btn.classList.remove('selected');
      });
    }

    // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„Ø¯ÙˆØ±
    function updateTurnDisplay() {
      const team = teams[currentTeamIndex];
      document.getElementById('turnLabel').textContent = `Ø¯ÙˆØ± Ø§Ù„ÙØ±ÙŠÙ‚: ${team}`;
      
      document.querySelectorAll('.score-item').forEach((item, index) => {
        if (index === currentTeamIndex) {
          item.classList.add('current');
        } else {
          item.classList.remove('current');
        }
      });
    }

    // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
    function renderScores() {
      const container = document.getElementById('scores');
      container.innerHTML = '';
      
      const sortedTeams = [...teams].sort((a, b) => scores[b] - scores[a]);
      
      sortedTeams.forEach((team, index) => {
        const scoreItem = document.createElement('div');
        scoreItem.className = 'score-item';
        if (team === teams[currentTeamIndex]) {
          scoreItem.classList.add('current');
        }
        
        let medal = '';
        if (index === 0 && scores[team] > 0) medal = 'ğŸ¥‡ ';
        else if (index === 1 && scores[team] > 0) medal = 'ğŸ¥ˆ ';
        else if (index === 2 && scores[team] > 0) medal = 'ğŸ¥‰ ';
        
        scoreItem.innerHTML = `
          <div>${medal}${team}</div>
          <div class="score-value">${scores[team]}</div>
        `;
        container.appendChild(scoreItem);
      });
    }

    // Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
    function endGame() {
      if (usedQuestions.size < 20) {
        if (!confirm('âš ï¸ Ù„Ù… ØªÙ†ØªÙ‡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¨Ø¹Ø¯. Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø© Ø§Ù„Ø¢Ù†ØŸ')) {
          return;
        }
      }
      
      document.getElementById('game').classList.add('hidden');
      document.getElementById('final').classList.remove('hidden');
      
      const finalScoresDiv = document.getElementById('finalScores');
      const sortedTeams = [...teams].sort((a, b) => scores[b] - scores[a]);
      
      let scoresHTML = '<div style="font-size:1.2rem">';
      sortedTeams.forEach((team, index) => {
        let medal = '';
        if (index === 0) medal = 'ğŸ¥‡';
        else if (index === 1) medal = 'ğŸ¥ˆ';
        else if (index === 2) medal = 'ğŸ¥‰';
        
        scoresHTML += `
          <div style="display:flex;justify-content:space-between;padding:15px;background:rgba(255,255,255,0.1);border-radius:10px;margin-bottom:10px">
            <div>${medal} ${team}</div>
            <div style="font-weight:bold;font-size:1.5rem">${scores[team]} Ù†Ù‚Ø·Ø©</div>
          </div>
        `;
      });
      scoresHTML += '</div>';
      finalScoresDiv.innerHTML = scoresHTML;
      
      const maxScore = Math.max(...Object.values(scores));
      const winners = teams.filter(team => scores[team] === maxScore);
      const winnerText = document.getElementById('winnerText');
      
      if (winners.length === 1) {
        winnerText.textContent = `Ø§Ù„ÙØ§Ø¦Ø²: ${winners[0]} Ø¨Ù€ ${maxScore} Ù†Ù‚Ø·Ø©!`;
      } else {
        winnerText.textContent = `ØªØ¹Ø§Ø¯Ù„ Ø¨ÙŠÙ†: ${winners.join(' Ùˆ ')} Ø¨Ù€ ${maxScore} Ù†Ù‚Ø·Ø©!`;
      }
    }

    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù„Ø¹Ø¨Ø©
    function resetGame() {
      if (confirm('âš ï¸ Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¨Ø¯Ø¡ Ù…Ø³Ø§Ø¨Ù‚Ø© Ø¬Ø¯ÙŠØ¯Ø©ØŸ Ø³ÙŠØªÙ… Ù…Ø³Ø­ ÙƒÙ„ Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ.')) {
        clearGameState();
        location.reload();
      }
    }
    
    // Ù…Ø³Ø­ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    function clearAllData() {
      if (confirm('âš ï¸ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ø³Ø­ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©ØŸ\n\nØ³ÙŠØªÙ… Ù…Ø³Ø­:\nâ€¢ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±Ù‚ Ø§Ù„Ù…Ø³Ø¬Ù„Ø©\nâ€¢ Ø§Ù„Ù†Ù‚Ø§Ø·\nâ€¢ ØªÙ‚Ø¯Ù… Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø­Ø§Ù„ÙŠ')) {
        clearGameState();
        alert('âœ… ØªÙ… Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ø¨Ù†Ø¬Ø§Ø­');
        location.reload();
      }
    }
    
    // Ø­ÙØ¸ ÙŠØ¯ÙˆÙŠ
    function saveManually() {
      saveGameState();
      showSaveStatus('âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ù†Ø¬Ø§Ø­');
    }
    
    // Ø¹Ø±Ø¶ Ø­Ø§Ù„Ø© Ø§Ù„Ø­ÙØ¸
    function showSaveStatus(message) {
      const statusDiv = document.getElementById('saveStatus');
      if (statusDiv) {
        statusDiv.textContent = message;
        statusDiv.style.color = 'var(--success)';
        setTimeout(() => {
          statusDiv.textContent = '';
        }, 3000);
      }
    }
    
    // Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©
    setInterval(() => {
      if (teams.length > 0 && document.getElementById('game').classList.contains('hidden') === false) {
        saveGameState();
        showSaveStatus('ğŸ’¾ Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠ');
      }
    }, 60000); // ÙƒÙ„ 60 Ø«Ø§Ù†ÙŠØ©
  </script>
</body>
</html>
